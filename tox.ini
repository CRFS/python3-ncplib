[tox]
envlist =
    coverage-erase
    test-{py342,py345,py352,py360}
    coverage-report
    flake8
    docs

[testenv]
basepython =
    coverage-erase: python3.6
    py342: {homedir}/.pyenv/versions/3.4.2/bin/python
    py345: {homedir}/.pyenv/versions/3.4.5/bin/python
    py352: {homedir}/.pyenv/versions/3.5.2/bin/python
    py360: {homedir}/.pyenv/versions/3.6.0/bin/python
    coverage-report: python3.6
usedevelop = True
deps =
    coverage>=4.1
commands =
    coverage-erase: coverage erase
    test: coverage run --append -m unittest discover tests
    coverage-report: coverage report

[testenv:flake8]
basepython = python3.6
deps =
    flake8>=2.5.4
commands =
    flake8

[testenv:docs]
basepython = python3.6
changedir = docs
deps =
    sphinx>=1.4.2
    sphinx_rtd_theme>=0.1.9
commands=
    sphinx-build -n -W . _build
